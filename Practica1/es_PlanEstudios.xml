<vxml version = "2.1" xmlns="http://www.w3.org/2001/06/vxml">

    <form id="plan_estudios">

    <block>
        <prompt> Bienvenido al sistema de consulta de plan de estudios de la Escuela Técnica Superior de Ingenierías Informatica y de Telecomunicacion. </prompt>
    </block>

    <field name="grado">
        <grammar src="es_Carrera.jsgf"/>
        <prompt>
            Que grado desea consultar, Informatica, Telecomunicaciones?
        </prompt>
        <filled>
           De acuerdo, se va a consultar el grado <value expr="grado"/>
        </filled>
    </field>

    <field name="curso">
        <grammar src="es_Curso.jsgf"/>
        <prompt>
            Que curso desea consultar?
        </prompt>
        <filled>
           De acuerdo, se va a consultar el curso <value expr="curso"/>
           <if cond="curso == 'primero' or curso == 'primer' or curso == 'segundo'">
                <assign name="mencion" expr="'No'" />
           </if>

        </filled>
    </field>

    <field name="mencion">
        <grammar src="es_Menciones.jsgf"/>
        <prompt>
            Que mencion desea consultar?
        </prompt>
        <filled>
           De acuerdo, se va a consultar la mencion <value expr="mencion"/>
        </filled>
    </field>

    <field name="cuatrimestre">
        <grammar src="es_Cuatrimestre.jsgf"/>
        <prompt>
            Que cuatrimestre desea consultar?
        </prompt>
        <filled>
           De acuerdo, se va a consultar el cuatrimestre <value expr="cuatrimestre"/>
        </filled>
    </field>


    <filled>

        <block>
            <if cond="mencion == 'No'">
                <prompt>Quiere saber las asignaturas del grado en <value expr="grado">, de <value expr="curso"> del <value expr="cuatrimestre"> cuatrimestre?</prompt>
            </else>
                <prompt>Quiere saber las asignaturas del grado en <value expr="grado"> con mencion <value expr="mencion">, de <value expr="curso"> del <value expr "cuatrimestre"> cuatrimestre?</prompt>
            </if>
        </block>

        <goto next="#confirmar_datos"> 

    </filled>


    </field>

    </form>

    <form id="confirmar_datos">

        <field name="confirmar_datos_field" type="boolean">
        
        <filled>
            <if cond="confirmar_datos_field">
                <prompt>datos</prompt>
                </exit>
            </else>
                <prompt> De acuerdo, volvamos al principio. </prompt>
                <clear namelist ="plan_estudios"/>
                <clear namelist ="confirmar_datos"/>
                <goto next="#confirmar_datos"> 
            </if>
        </filled>  

    </form>

    <form id="volver_a_empezar">

        <field name="volver_a_empezar_field" type="boolean">
            <prompt> 
                Desea consultar otro plan de estudios?
            </prompt>


        <filled>
            <if cond="volver_a_empezar_field">

                <prompt>De acuerdo, volvamos al principio</prompt>

                <clear namelist ="plan_estudios"/>
                <clear namelist ="volver_a_empezar"/>
                <goto next="#plan_estudios"> 

            </else>
                
                <prompt> De acuerdo. Tenga un buen dia! </prompt>
                </exit>

            </if>
        </filled>  

    </form>

    </vxml>
